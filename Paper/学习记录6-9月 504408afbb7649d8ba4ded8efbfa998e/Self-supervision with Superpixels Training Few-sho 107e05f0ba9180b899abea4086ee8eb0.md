<<<<<<< HEAD
---
tags:
  - Self-Supervision
  - 框架
---

=======
>>>>>>> 516cbd4495f625d0ca6b3b21239e3652645bffc2
# Self-supervision with Superpixels:
Training Few-shot Medical Image Segmentation without Annotation

Owner: hikari

### 医学图像问题

医学图像中普遍存在极端的前景与背景不平衡，因此这个问题在医学图像中尤其突出。如图1（B）所示，背景类是大的且空间上不均匀的，而前景类（紫色）是小的且均匀的。

现有的用于医学成像的少量语义分割（FSS）模型在过去并没有取得太大的成功，因为大多数FSS方法依赖于具有许多注释训练类的大型训练数据集以避免过拟合。为了绕过这种未满足的注释需求，我们建议通过自监督学习在未标记的图像上训练FSS模型，这是一种无监督技术，通过解决精心设计的任务来学习可概括的图像表示。许多最先进的FSS网络架构的另一个挑战是在其学习表示中的空间变化类内的本地信息的丢失。这个问题在医学图像中尤其被放大，因为极端的前景-背景不平衡通常存在于医学图像中。如图1（B）所示，背景类是大的且空间上不均匀的，而前景类（紫色）是小的且均匀的。在这种情况下，如果背景中不同局部区域（或者说部分）的不同外观信息被不合理地平均掉，则前景-背景边界预测中可能发生模糊。不幸的是，这种类内局部信息的丢失存在于许多最近的工作中，其中每个类在空间上平均为1-D表示原型[16，18，19，34]或线性分类器的权重向量[17]。为了适应这个问题，我们鼓励网络通过提取每个类的局部表示集合来保留类内局部信息。提出了基于超像素的自监督学习。对于每个未标记的图像，在超像素上生成伪标记。在训练过程中的每次迭代中，随机选择的伪标签和原始图像作为支持和查询的候选。然后，在支持和查询之间应用随机变换（在蓝色框中标记）。自我监督任务被设计为参考支持分割查询上的伪标签，尽管在其间应用了变换。（B）。所提出的ALPNet通过自适应地提取大背景类（蓝色）的多个局部表示来解决类不平衡引起的模糊问题。它们中的每一个仅代表背景的局部区域。

### 主要工作

（1）一个新的自我监督的FSS框架，为医学图像，以消除需要在训练过程中的注释。此外，本文还提出了一种基于超像素的伪标签生成方法，以提供监督;

（2）在原型网络中引入了一个自适应的局部原型池模块，以解决医学图像分割中常见的前景-背景不平衡问题;

（3）通过三个不同的任务验证了本文方法在医学图像分割中的普遍适用性：用于CT和MRI腹部器官分割，以及用于MRI的心脏分割。实验结果表明，对于医学图像分割，该方法优于传统的需要人工标注的FSS方法。

我们采用了中现成的、高效的、无监督的基于图割的算法graph-cut-based algorithm。由图割生成的超像素在形状上更加多样。用这些超像素训练可以直观地提高网络对各种形状的不可见类的泛化能力。

1. **生成超像素：** 对于每张输入图像，使用无监督的超像素生成算法（例如SLIC或更先进的算法）将图像分割成多个紧凑的、近似均匀的区域，这些区域称为超像素。这些超像素作为伪标签的候选对象。
2. **伪标签生成：** 通过超像素生成算法得到的超像素集合，每个超像素可以被视为一个伪标签。这些伪标签对应于图像中的局部区域，而不是真实的语义类别。
3. **自监督学习任务设计：** 论文设计了一个“one-superpixel-against-the-rest”的分割任务，即在每个训练迭代中，随机选择一个超像素作为正样本（即支持集），而其余的超像素则作为负样本。训练的目标是使网络能够区分选定的超像素和其他超像素。
4. **数据增强：** 为了增强模型对图像变化的鲁棒性，对支持集和查询集之间的图像应用随机的几何和强度变换。这些变换包括仿射变换、弹性变形和伽马变换等，目的是在训练过程中引入图像形状和强度的变化。
5. **训练过程：** 在训练过程中，网络通过最小化超像素级别的分割损失来学习区分不同的超像素区域。通过这种方式，网络学习到的特征不仅能够区分不同的超像素，还能够泛化到未见过的、真实的语义类别上。

**Local similarity maps** 是在分割过程中计算得到的，表示查询图像中每个像素与支持集中每个原型之间的相似性。，**Class-wise similarity maps** 是通过对所有相关的 **local similarity maps** 进行融合得到的

![image.png](Paper/attachments/Self-supervision%20with%20Superpixels%20Training%20Few-sho%20107e05f0ba9180b899abea4086ee8eb0/image.png)